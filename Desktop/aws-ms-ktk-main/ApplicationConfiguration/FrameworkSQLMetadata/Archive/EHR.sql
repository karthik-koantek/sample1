EXEC [dbo].[HydrateADFBatchFile] @ProjectName = 'EHR_ADF',@SystemName = 'EHR_ADF_Files',@SystemOrder = 10,@SystemIsActive = 1,@StageName = 'EHR_ADF_Files_JSON',@StageIsActive = 1,@StageOrder = 10,@JobName = 'EHR_ADF_Files_JSON',@JobOrder = 10,@JobIsActive = 1,@LocalFilePath = 'ehr',@LocalFileName = '*.json',@LocalEncoding = 'UTF-8',@Recursive = '1',@EnablePartitionDiscovery = '0',@DestinationContainerName = 'azuredatafactory',@DestinationFilePath = 'ehr',@DestinationEncoding = 'UTF-8',@ADFPipelineName = 'On Premises Any to Staging';

EXEC [dbo].[HydrateBatchFile] @ProjectName = 'EHR', @SystemName = 'EHR_ADF_FILES', @SystemSecretScope = 'internal', @SystemIsActive = 1, @SystemOrder = 10, @StageName = 'EHR_ADF_Files_Daily', @StageIsActive = 1, @StageOrder = 10, @JobName = 'EHR_ADF_FILES_JSON', @JobIsActive = 1, @JobOrder = 10,  @ExternalDataPath = 'mnt/azuredatafactory/ehr', @SchemaName = 'synthea', @TableName = 'patientgenerator', @FileExtension = 'json', @MultiLine = 'True', @IsDatePartitioned = 'False', @SilverZonePartitionColumn = '', @SilverZoneClusterColumn = '', @SilverZoneClusterBuckets = '8', @OptimizeWhere = '', @OptimizeZOrderBy = '', @VacuumRetentionHours = 168, @PartitionColumn = '', @NumPartitions = '8', @PrimaryKeyColumns = '',@ExplodeAndFlatten = 'True',@CleanseColumnNames = 'True',@TimestampColumns = 'entry_resource_abatementDateTime,entry_resource_deceasedDateTime,entry_resource_effectiveDateTime,entry_resource_expirationDate,entry_resource_expirationDate,entry_resource_manufactureDate,entry_resource_occurrenceDateTime,entry_resource_onsetDateTime,entry_resource_recordedDate,entry_resource_billablePeriod_end,entry_resource_billablePeriod_start,entry_resource_performedPeriod_end,entry_resource_performedPeriod_start,entry_resource_period_end,entry_resource_period_start',@TimestampFormat = 'yyyy-MM-dd''T''HH:mm:ssxxx',@EncryptColumns = 'entry_resource_birthDate,entry_resource_address_city,entry_resource_name', @LoadType = 'Append', @Destination = 'silverprotected',@BronzeZoneNotebookPath = '../Data Engineering/Bronze Zone/Batch File JSON', @SilverZoneNotebookPath = '../Data Engineering/Silver Zone/Delta Load';

